<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki Plugin Library" />
<meta name="application-version" content="v5.1.14" />
<meta name="copyright" content="Copyright 2021 Andrew Harrison" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>TiddlyWiki Library for Plugins by Andrew Harrison</title>
<script>
var assetList = [
    {
        "title": "$:/plugins/ajh/copy",
        "description": "Copy specified text to the clipboard",
	"version": "0.0.26",
        "plugin-type": "plugin",
        "readme": "This plugin button like the internal [[copy-to-clipboard Macro|https://tiddlywiki.com/#copy-to-clipboard%20Macro]] displays a{{$:/core/images/copy-clipboard}}button that copies specified text to the clipboard. This plugin button extends the format and function to be called by transcluding a tiddler using the `$:/copy` template. Example usage: `{{Tiddler title to transclude||$:/copy}}`.\n\nThis plugin comprises:\n\n* JavaScript code module\n* Icon\n* Template\n* Stylesheet\n* Caption, hint, and notification"
    },
    {
        "title": "$:/plugins/ajh/favorites",
        "description": "Favorites of views frequently accessed",
        "version": "3.0.6",
	"plugin-type": "plugin",
	"readme": "\\define a()<span class='tc-image-favorites'>{{$:/core/images/star-filled}}</span>\n<style>.tc-image-favorites svg {stroke:#000;stroke-width:2;fill:#ff0;}</style>This plugin adds the {{$:/core/images/star-filled}} ''choose'' button to the View Toolbar and also the <<a>> ''Favorites'' tab to the Sidebar. The button becomes <<a>> ''favorite'' when selected and then the tiddler appears in the list on the <<a>> ''Favorites'' tab.  The list can be sorted using drag and drop. To drag an item, select it, then hold down the mouse or track-pad button while you drag it to a new location in the list. Release the button to drop the item into place. Unneeded favorites can be removed from the list by using the <<a>> ''favorite'' button in the tiddler.\n\nThis plugin comprises:\n\n* Icon\n* Template\n* Stylesheet\n* Sidebar tab\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/ledclock",
        "description": "Digital clock with LED display",
        "version": "0.0.1",
	"plugin-type": "plugin",
	"readme": "This plugin provides a clock that resembles an LED digital display to tell the time. It uses SVG animate elements to change attributes over a period of time.\n\nThis plugin comprises:\n\n* Stylesheet\n* Template"
    },
    {
        "title": "$:/plugins/ajh/locations",
        "description": "Locations navigator button",
        "version": "0.0.3",
	"plugin-type": "plugin",
        "readme": "This plugin adds the <svg height='22pt' width='22pt' viewBox='0 0 128 128'><path d='m21,48c0,42,42,80,42,80c0,0,42,-42,42,-80c0,-60,-84,-60,-84,0zm42,-32,a30,30 0 0 1 0,63a31,31 0 0 1 0,-63z'/></svg> ''locations'' button to the Page Toolbar. The button will navigate to the Locations tiddler.\n\nThis plugin comprises:\n\n* Icon\n* Template\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/luckypic",
        "description": "Changing background pics",
        "version": "0.2.0",
	"plugin-type": "plugin",
	"readme": "This plugin replaces the page background image with a random one upon each refresh. Name the background tiddlers ~$:/plugins/ajh/luckypic/pic# where # is a whole number between 0 and what is in ~$:/info/max-lucky. For example: ~$:/plugins/ajh/luckypic/pic0, ~$:/plugins/ajh/luckypic/pic1, ~$:/plugins/ajh/luckypic/pic2, etc.\n\nAdd the ''attachment'' field with value of ''fixed'' or ''scroll'' and/or the ''size'' field with value of ''auto'', ''cover'', or ''contain'' for each background individually and it will supersede the global setting for that background.\n\nThis plugin comprises:\n\n* JavaScript code module\n* Stylesheet\n* Default background"
    },
    {
        "title": "$:/plugins/ajh/openall",
        "description": "Open all tagged the same",
        "version": "0.0.4",
	"plugin-type": "plugin",
	"readme": "This plugin adds the <svg height='22pt' width='22pt' viewBox='0 0 128 128'><path d='m64,3l64,73h-128l64,-73zm-64,104h128v24h-128v-24z'/></svg> ''openall'' button and the {{$:/core/images/close-all-button}} ''closeall'' button to the tag manager drop down menu using the <<tag $:/tags/TagDropdown>>system tag. The open all button opens all non system tiddlers tagged with that drop down tag. The close all button closes all non system tiddlers tagged with that drop down tag. \n\nThis plugin comprises:\n\n* Icon\n* Template\n* Stylesheet\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/plugintools",
        "description": "Plugin tools to bundle multiple tiddlers",
        "version": "0.0.3",
	"plugin-type": "plugin",
	"readme": "\\define p()<svg height='22pt' width='22pt' viewBox='0 0 128 128'><path d='m30.1 31c1 0.5 1.4 1.5 0.7 2.2-1.8 0-2.3 0.3-2.7 0.8-0.7 1.7 3.1 1.2 1 3.1-0.8 0.5-1.6-0.2-2.3 0.4-1.6 1.9 1.7 2.2 0.9 3.3-0.9 1.4-2 0-2.9 1.2-1 1.4 2.2 0.9 1 2.9-0.2 0-0.7-0.2-1.4-0.3-1.1-0.4-1.3-0.8-1.7-1.7 1.5-4 3-8.1 4.6-12 1-0.3 1.8-0.2 2.7 0.1zm11.6 6.3c-0.3 1.2-3.1 8.7-3.6 9.6-0.3 0.7-1.4 1.7-1.9 1.7-1.7-0.7-2.5-2.1-2-3.1 1.1-0.4 1.9-0.1 2.6-0.5 0.7-0.2 1.2-0.9-0.4-1.8-0.8-0.8-0.8-1.4-0.5-1.9 1-0.6 1.7-0.1 2.6-0.5 2.1-1.4-1.8-2-0.9-3.6 0.9-0.6 2.2 0.2 2.9-0.4 1.1-2-2.2-1.7-1.4-2.4 2-0.3 3.3 0.8 2.7 2.9zm76.6 72.1c3.2 1.4 4.5 4 4.5 6.5-0.1 3.4-2.6 6.6-6.1 6.7-4 0.3-7.3-2.5-7.7-6.5 0-2.7 1.6-5.1 3.6-6.3s3.3-1.2 5.6-0.3zm-117.1-82.7c-0.3 6 3.1 9.9 6 13.6 1 1.4 2.1 2.9 3.1 4 0.8 1 1.5 2 3 4 1 1.4 1 1.7 0.7 2.9-0.5 1.5-0.3 1.9 0.8 2.5 1.9 0.9 3.8 3 5.4 2.4 0.5-0.7 2.4-5.8 2.4-6.2 0-0.3-0.2-0.5-1.4-0.7-1.2-0.3-2.6-0.4-3.6-0.6-1.8-0.3-3-0.6-3.6-2.2l2-5.5c2.5-6.9 3.8-10.7 3.8-11-1.9 0-2.6 0.6-4.8 1.5-4.8-1.6-10-3.8-13.8-4.7zm50.5 45.8s-5.8-5.3-5.9-5.3c-4.4-0.8-5 3.2-4.3 5.6l-19 18.7c-8 7.8-23.7 16.7-21.1 27.8 0.7 3.1 3 5.7 6.3 6.7 10.3 1.6 20.5-13 28.7-20.7 17.9-17.7 19.1-18.7 19.5-18.4 3.2 1.1 6.9-1.7 5.3-4.7-0.1-0.1-5.1-4.9-5.1-4.9l4.2-3.9c16.1 15.7 30.8 33.4 46.5 48 3.4 3.5 5.5 4.7 8.7 4.7 2.9 0.1 5.7-1.2 7.6-3.3 1.1-1.2 2.2-2.3 2.9-3.6 1-2.5 0.8-4.8-0.3-7.2-1.9-2.9-3.8-4.2-6.5-6.9-12.8-12.1-35.1-32.6-47.4-43.6l39.6-39.2 7.7-3 8.1-12.4c-1.6-1.6-3.1-3.2-4.8-4.7-4.4 2.4-8.6 5-12.7 7.7l-3 7.7-39.5 39.5s-10.2-9.8-11.2-11c-1.7-2.2-3.2-4.1-4.6-6.2-3.5-5.2-6.9-11.8-8.2-17.4-1.6-9.5-2.1-15.3-11.7-18.4-9.9-2.1-17.3-1.4-22.9 3.5 4.6 2 9.3 3.6 14.2 5.6 0.3 0.3 2.9 4.8 3.1 5.8 0.2 0.7 0.2 1-4.8 14.1-2.9 7.4-5 13.6-5 13.6 2 0.7 3.9 0.8 5.9 1.2 3.6 0.8 6.9 1.7 10.4 3 3.1 1.4 7.2 3.3 8 3.8 0.5 0.3 1.2 0.8 1.7 1 2.2 1.4 3.4 2.4 5.6 4.5l8.2 8.3z'/></svg>\n\\define a()<<p>>\n\\define b()<span class='tc-image-plugintools'><<p>></span>\n<style>.tc-image-plugintools svg {stroke:#000;stroke-width:2;fill:#ff0;}</style>This plugin is an alternative to packaging a plugin using [[Node.js|http://tiddlywiki.com/#TiddlyWiki%20on%20Node.js]] or the [[browser developer console|http://tiddlywiki.com/dev/#How%20to%20create%20plugins%20in%20the%20browser]].\n\nThis plugin adds the <<a>> ''shadow'' button to the View Toolbar and also the <<b>> plugintools tab to the Sidebar. The View Toolbar button becomes <<b>> ''plugged'' when selected and then the tiddler title appears in the list of tiddlers to be packed on the <<b>> Sidebar tab. The list can be sorted using {{$:/core/images/up-arrow}} ''up-arrow'' to move up the item in the list or by drag and drop. To drag an item, select it, then hold down the mouse or track-pad button while you drag it to a new location in the list. Release the button to drop the item into place. Unneeded plugin tiddlers can be removed from the list by using the <<b>> ''plugged'' button in the tiddler or on the plugintools tab on the Sidebar.\n\nThe ''Pack Plugin'' button on the sidebar tab opens the plugin template in edit view and fills in the dependents field. Set the plugin title, e.g. $:/plugins/yourname/pluginname, and also the following fields on the tiddler:\n\n|!Field |!Value |\n|''description'' |Plugin description |\n|''list'' |Names of exposed plugin information tiddlers, for example: readme license |\n|''name'' |Plugin name (only needed for themes) |\n|''plugin-type'' |Either \"plugin\" for a regular plugin, \"theme\" for a theme, or \"language\" for a language pack |\n|[[additional|https://tiddlywiki.com/#Plugin%20Fields]] |Add as needed |\n\nRemove tiddlers by only selecting tiddlers you want in the plugin and hit ''Pack Plugin'' again.\n\n[[Export|https://tiddlywiki.com/#How%20to%20export%20tiddlers]] the plugin using JSON format for library format.\n\nThis plugin comprises:\n\n* Icon\n* Template\n* Stylesheet\n* Sidebar tab\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/plugintweaks",
        "description": "Edit plugin CSS values",
        "version": "0.0.2",
        "plugin-type": "plugin",
        "readme": "This plugin adds the ''Plugin Tweaks'' tab to the Appearance tab in the{{$:/core/images/options-button}}ControlPanel. It provides edit fields for changing plugin stylesheet values that are stored in fields.\n\nThis plugin comprises:\n\n* Control settings\n* Template"
    },
    {
        "title": "$:/plugins/ajh/reduce",
        "description": "Reduce text into a searchable blob",
        "version": "0.0.4",
	"plugin-type": "plugin",
        "readme": "This plugin adds the<svg width='22pt' height='22pt' viewBox='0 0 128 128'><path d='m27 114c-3-16-10-75 26-68 0 0 14 2 19-2 0 0 1-25-2-25h-24v-8h24c0-4 10-4 10 0h24v8h-24c-3 0-2 26-2 26 7-1 7 18 0 17 0 0-2 26 3 27 2 0 2 3 1 3h-14c-1 0-1-3 1-3 5-1 3-26 3-26-8-3-27-3-31 3-2 2-2 44 0 46 5 6 24 3 23-1h21c0 4-2 5-4 5-7 1-10 11-17 12-10 0-32 4-37-14z'/></svg>reduce button to the Editor Toolbar. The button will reduce text in the text field into a blob with duplicate words and spaces removed. When used with an external image or page like with ''_canonical_uri'' field, the text from the external page can be made to seem fully searchable within the wiki while conserving file size.\n\nThis plugin comprises:\n\n* JavaScript code module\n* Keyboard shortcut\n* Icon\n* Template\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/showfields",
        "description": "Show field contents in tiddlers",
        "version": "0.0.2",
	"plugin-type": "plugin",
	"readme": "This plugin adds the ''Show Fields'' selector to the Settings tab in the{{$:/core/images/options-button}}ControlPanel. Fields added to the list will be viewed in any tiddler that has them. Drag and drop selected to change the ordering.\n\nAlso, optionally add to a tiddler the field named ''show-field'' and in its contents add field names with or without a minus in front to show or hide them in that tiddler only.\n\nThis plugin comprises:\n\n* Control settings\n* Template\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/throbclock",
        "description": "Analog clock with orbiting circles",
        "version": "0.0.1",
	"plugin-type": "plugin",
	"readme": "This plugin provides an analog clock with orbiting circles to tell the time. It uses SVG animateTranform elements to move.\n\nThis plugin comprises:\n\n* Stylesheet\n* Template"
    },
    {
        "title": "$:/plugins/ajh/tiddlycopy",
        "description": "Copy tiddly link to the clipboard",
        "version": "0.0.33",
	"plugin-type": "plugin",
	"readme": "This plugins adds the{{$:/core/images/copy-clipboard}}''copy'' button to the ''View Toolbar'' tab in the control panel. The copy button copies to the clipboard the title as a link if the path is defined in a ''tiddly'' field. By adding a ''tiddly'' field and path to an external page, it recognizes to display the page in an object frame and the copy button displays beside the title or gets listed on the more actions menu if it isn't selected on the View Toolbar.\n\n<mark>@@color:red; ''WARNING'' @@</mark>: Use of Tiddly Viewer to display untrusted web sites could be a security risk.\n\nThis plugin requires the [[Tiddly Viewer|https://t5a.github.io/#Tiddly%20Viewer]] and [[Copy|https://t5a.github.io/#Copy%20Button]] plugins.\n\nThis plugin comprises:\n\n* Templates\n* Stylesheet"
    },
    {
        "title": "$:/plugins/ajh/tiddlytime",
        "description": "Tiddlytime Button",
        "version": "0.0.11",
	"plugin-type": "plugin",
	"readme": "This plugin button displays time with seconds and several time spans when clicked. The tool tip displays todays date minus 78 days. Clicking the time reveals time, time + 15 minutes, time + 30 minutes, and time + 45 minutes.\n\nThis plugin comprises:\n\n* JavaScript code modules\n* Button\n* Template\n* Stylesheet\n* Timestamp\n* Caption and hint"
    },
    {
        "title": "$:/plugins/ajh/tiddlyviewer",
        "description": "Tiddly Viewer",
        "version": "0.0.15",
	"plugin-type": "plugin",
        "readme": "This plugin displays external pages fully formatted instead of as just plain text. By adding a ''tiddly'' field and path to an external page, it recognizes to display the page in an object frame.\n\n<mark>@@color:red; ''WARNING'' @@</mark>: Use of Tiddly Viewer to display untrusted web sites could be a security risk.\n\nThis plugin comprises:\n\n* Template\n* Stylesheet"
    }
];

/*\
title: $:/plugins/tiddlywiki/pluginlibrary/libraryserver.js
type: application/javascript
module-type: library
A simple HTTP-over-window.postMessage implementation of a standard TiddlyWeb-compatible server. It uses real HTTP to load the individual tiddler JSON files.
\*/
(function(){

/*jslint node: true, browser: true */
/*global $tw: false */
"use strict";

// Listen for window messages
window.addEventListener("message",function listener(event){
	console.log("plugin library: Received message from",event.origin);
	console.log("plugin library: Message content",event.data);
	switch(event.data.verb) {
		case "GET":
			if(event.data.url === "recipes/library/tiddlers.json") {
				// Route for recipes/library/tiddlers.json
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "200",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "application/json",
					body: JSON.stringify(assetList,null,4)
				},"*");
			} else if(event.data.url.indexOf("recipes/library/tiddlers/") === 0) {
				var url = "recipes/library/tiddlers/" + encodeURIComponent(removePrefix(event.data.url,"recipes/library/tiddlers/"));
				// Route for recipes/library/tiddlers/<uri-encoded-tiddler-title>.json
				httpGet(url,function(err,responseText) {
					if(err) {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "404",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "text/plain",
							body: "Not found"
						},"*");
					} else {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "200",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "application/json",
							body: responseText
						},"*");
					}
				});
			} else {
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "404",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "text/plain",
					body: "Not found"
				},"*");
			}
			break;
	}
},false);

// Helper to remove string prefixes
function removePrefix(string,prefix) {
	if(string.indexOf(prefix) === 0) {
		return string.substr(prefix.length);
	} else {
		return string;
	}
}

// Helper for HTTP GET
function httpGet(url,callback) {
	var http = new XMLHttpRequest();
	http.open("GET",url,true);
	http.onreadystatechange = function() {
		if(http.readyState == 4 && http.status == 200) {
			callback(null,http.responseText);
		}
	};
	http.send();
}

})();

</script>
</head>
<body><h1>Hello Visitor</h1><p>This is the library for <a href="https://github.com/t5a/t5a.github.io.git" target="_blank">plugins/ajh</a>. It is not intended to be opened directly in the browser.</p><p>See <a href="http://t5a.github.io/#Plugin%20Library" target="_blank">t5a.github.io/Plugin Library</a> for details of how to install plugins.</p></body>
</html>
